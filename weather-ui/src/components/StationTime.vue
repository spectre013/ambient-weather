<script setup>
import { onMounted, ref } from 'vue'
import moment from 'moment';
let timer = null;
let currentDate = ref(moment());

  function showTime() {
    currentDate.value = moment();
  }

function timeFormat(date) {
  return date.format('HH:mm:ss');
}

function dateFormat(date) {
  return date.format('ddd MMM Do YYYY');
}

onMounted(() => {
  showTime();
  if (timer) clearInterval(timer);

  timer = setInterval(() => {
    showTime();
  }, 1000);
});


</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped></style>

<template>
  <div class="weather34box clock">
    <div class="title">
      <svg
          id="i-info"
          viewBox="0 0 32 32"
          width="10"
          height="10"
          fill="none"
          stroke="currentcolor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="6.25%"
      >
        <path d="M16 14 L16 23 M16 8 L16 10"></path>
        <circle cx="16" cy="16" r="14"></circle>
      </svg>
      Weather Station <orange> Time </orange>
    </div>
    <div class="value">
      <div id="position1">
        <div class="calendar34">
          <svg id="weather34clock icon" width="16pt" height="16pt" viewBox="0 0 720 720">
            <path
                fill="currentcolor"
                d=" M 355.41 0.00 L 368.93 0.00 C 421.34 1.49 473.47 14.11 520.37 37.63 C 585.17 69.79 639.75
                        122.01 674.80 185.27 C 703.04 235.73 718.37 293.12 720.00 350.88 L 720.00 368.24 C 718.82
                        411.81 710.09 455.22 693.57 495.58 C 667.46 560.02 622.14 616.43 564.97 655.97 C 533.45 677.86
                        498.39 694.66 461.56 705.45 C 431.56 714.34 400.39 718.96 369.14 720.00 L 355.52 720.00 C
                        310.94 719.41 266.45 710.63 225.12 693.86 C 162.17 668.51 106.81 624.83 67.33 569.65 C 42.24
                        534.70 23.46 495.23 12.33 453.66 C 4.78 425.84 0.87 397.09 0.00 368.30 L 0.00 351.02 C 1.06
                        318.13 6.15 285.33 15.92 253.89 C 33.12 197.85 64.40 146.23 105.99 104.93 C 147.53 63.44 199.38
                        32.34 255.60 15.40 C 287.93 5.58 321.65 0.49 355.41 0.00 M 349.25 42.30 C 284.93 44.21 221.46
                        66.51 170.00 105.11 C 128.00 136.42 93.90 178.22 71.77 225.70 C 38.37 296.77 33.01 380.35 56.61
                        455.20 C 69.57 496.69 91.28 535.40 119.78 568.21 C 145.89 598.34 177.71 623.52 213.06 641.97 C
                        248.12 660.31 286.66 671.94 326.00 676.09 C 373.01 681.05 421.15 675.69 465.73 659.88 C 537.98
                        634.65 600.14 582.15 637.41 515.35 C 658.39 478.09 671.62 436.50 676.10 393.97 C 681.08 346.72
                        675.63 298.33 659.63 253.56 C 635.19 184.17 585.63 124.11 522.36 86.64 C 470.51 55.61 409.61
                        40.13 349.25 42.30 Z"
            ></path>
            <path
                fill="#aaa"
                d=" M 439.71 77.66 C 451.36 72.54 465.93 74.95 475.11 83.84 C 482.02 90.20 485.89 99.65 485.49
                        109.03 C 485.38 114.47 483.38 119.59 481.74 124.70 C 457.85 197.83 434.02 270.97 410.12 344.09
                        C 401.39 328.28 384.15 317.22 365.96 316.93 C 349.29 316.56 333.15 325.46 323.50 338.87 C 323.82
                         276.92 324.21 214.98 324.57 153.03 C 324.82 136.42 339.36 121.68 355.99 121.39 C 372.81 120.28
                         388.77 134.13 390.00 150.94 C 390.67 165.40 389.59 179.91 390.32 194.36 C 391.12 190.12 392.65
                         186.07 393.96 181.98 C 403.06 154.04 412.20 126.12 421.29 98.19 C 424.12 89.12 430.93 81.36
                         439.71 77.66 Z"
            ></path>
            <path
                fill="rgba(255, 124, 57, 1.000)"
                d=" M 323.50 338.87 C 333.15 325.46 349.29 316.56 365.96 316.93 C 384.15 317.22 401.39 328.28
                        410.12 344.09 C 417.24 356.29 418.70 371.60 413.97 384.92 C 406.70 406.21 384.77 422.05 362.03
                        420.40 C 341.44 419.13 322.84 404.15 316.24 384.76 C 310.81 369.50 313.80 351.78 323.50 338.87
                        Z"
            ></path>
          </svg>
        </div>
        <span id="theTime">
          <div class="weatherclock34">
            {{ dateFormat(currentDate) }}
            <div class="orangeclock">{{ timeFormat(currentDate) }}</div>
          </div>
        </span>
      </div>
    </div>
  </div>
</template>
